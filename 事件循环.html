<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <script>
        // 案例1
        // setTimeout(function () {
        //     console.log(1)
        // }, 0);
        // new Promise(function (resolve, reject) {
        //     console.log(2);
        //     resolve()
        // }).then(function () {
        //     console.log(3)
        // });
        // process.nextTick(function () {
        //     console.log(4)
        // })
        // console.log(5)

        // 案例2
        // console.log('1');
        // setTimeout(function () {
        //     console.log('2');
        // }, 10);
        // //promise里的代码是同步的,then里面的代码才是异步
        // new Promise(resolve => {
        //     console.log('3');
        //     resolve();
        //     setTimeout(() => console.log('4'), 10);
        // }).then(function () {
        //     console.log('5')
        // })
        // console.log('6');

        // 案例3 
        // new Promise(resolve => {
        //     setTimeout(() => {
        //         console.log(111)
        //     }, 200)
        //     resolve()
        // }).then(res => {
        //     setTimeout(() => {
        //         console.log(222)
        //     }, 500)
        // }).then(
        //     setTimeout(() => {
        //         console.log(333)
        //     }, 100)
        // )

        // 先看函数的调用位置,因为await有暂停功能,会阻塞其后面的代码执行,
        // 下面的代码执行完才会执行await后面的代码(除了微任务和宏任务要排在后面)
        async function async1() {
            console.log(2); 
            await async2();
            console.log(6);   
        }

        async function async2() {
            console.log(3);  
        }

        console.log(1);  
        // 宏任务
        setTimeout(function () {
            console.log(8);  
        }, 100);

        async1();

        new Promise(function (resolve) {
            console.log(4);    
            resolve();
        }).then(function () {     
            console.log(7);  
        });
        console.log(5); 



    </script>
</body>

</html>