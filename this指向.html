<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <script>
        // var name = "nick"   //var全局作用域(挂载到window)
        // let obj = {
        //     name: 'nancy',   //局部作用域
        //     sayName: () => {
        //         console.log('name:', this.name);   //nick
        //     },
        //     sayFucName: function () {
        //         console.log('name:', this.name);   //nancy
        //     }
        // }
        // obj.sayName()
        // obj.sayFucName()
        // let obj1 = {
        //     name: 'nick',
        //     hobby: 'basketball'
        // }
        // let obj2 = {
        //     name: 'john',
        //     hobby: 'football'
        // }
        // function getHobby(hobby) {
        //     console.log("爱好:", this.hobby);
        // }


        // 调用函数,改变函数中的this
        // getHobby.call(obj1)   //第一个参数改变了this的指向,其他参数对应函数里的参数,立即执行=>call
        // getHobby.apply(obj, [5, 7])   //第一个参数改变了this的指向,第二个参数是个数组,立即执行=>apply
        // let emit = getHobby.bind(obj, 5, 7)   //第一个参数改变了this的指向,其他参数对应函数里的参数,
        // //但需调用再执行=>bind
        // emit()

        // 箭头函数中没有this指向,要找定义它时所处的环境中this的指向
        // var name = 'nick';
        // var obj = {
        //     name: 'nancy',
        //     sayName: () => {
        //         return () => {
        //             console.log('name:', this.name); //nick
        //         }
        //     }
        // }
        // var fun = obj.sayName()
        // fun()   //最后fun是由window调用的,所以name为nick

        var name = 'cheng';
        // ES5中，setTimeout里面的函数的执行上下文为全局上下文
        function delay() {
            setTimeout(function () {
                console.log('name:', this.name);
            }, 100)
        }
        //在ES6的箭头函数中，setTimeout里面，如果执行了一个箭头函数，那么这个函数的执行上下文为定义这个箭头函数所在的函数
        function arrowDelay() {
            setTimeout(() => {
                console.log('name:', this.name);
            }, 100)
        }
        let obj = {
            name: 'latency'
        }
        delay.apply(obj)               //name: cheng
        arrowDelay.apply(obj)          //name: latency
        // function People(name, age) {
        //     this.name = name
        //     this.age = age
        //     this.introduce = function(){
        //         console.log(`我叫${this.name} 今年${this.age}岁`);
        //     }
        // }
        // let child = new People("小明", 18)
        // child.introduce()


    </script>

</body>

</html>